<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Assistant Workspace</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <main class="workspace" aria-label="Resume assistant workspace">
      <header class="workspace__header">
        <div class="workspace__headline">
          <p class="workspace__eyebrow">Resume Assistant</p>
          <h1>Guide ingestion and generation from a single conversation</h1>
          <p class="workspace__subtitle">
            Start in ingestion mode to teach me about your experience, then switch to generation when you're ready for a tailored
            draft. You can always send a quick message if you need a human-in-the-loop adjustment.
          </p>
        </div>
        <div class="mode-toggle" role="tablist" aria-label="Workflow mode">
          <button class="mode-toggle__option is-active" data-mode="ingest" aria-selected="true">Ingestion</button>
          <button class="mode-toggle__option" data-mode="generate" aria-selected="false">Generation</button>
        </div>
      </header>
      <section class="workspace__body">
        <section
          id="chat-transcript"
          class="transcript"
          aria-live="polite"
          aria-label="Conversation history"
        ></section>
        <form id="chat-form" class="composer" autocomplete="off">
          <input
            id="resume-upload"
            name="resumes"
            type="file"
            accept=".txt,.md,.pdf,.doc,.docx,.rtf"
            multiple
            hidden
          />
          <div id="drop-zone" class="drop-zone" tabindex="0" role="button" aria-label="Add files">
            <div class="drop-zone__icon" aria-hidden="true">ðŸ“Ž</div>
            <div class="drop-zone__text">
              <p class="drop-zone__label" data-mode-label>Drop resumes or click to upload</p>
              <p class="drop-zone__hint">PDF, DOCX, RTF, Markdown, or plain text</p>
            </div>
            <button type="button" id="upload-resumes" class="drop-zone__action">Browse files</button>
          </div>
          <ul id="selected-files" class="selected-files" aria-live="polite"></ul>
          <label for="text-input" class="sr-only">Workspace input</label>
          <textarea
            id="text-input"
            class="composer__textarea"
            name="message"
            rows="4"
            placeholder="Paste resume updates or describe what you need..."
          ></textarea>
          <div class="composer__controls">
            <button type="submit" class="composer__primary" data-action="workflow">Ingest content</button>
            <button type="submit" class="composer__secondary" data-action="chat">Send message</button>
          </div>
          <p id="composer-hint" class="composer__hint">
            Tip: In ingestion mode you can drop multiple resumes or paste a quick highlight for me to store.
          </p>
          <p class="composer__legacy-note">
            Legacy shortcut: type <span class="hint-command">/generate</span> followed by a job description if you prefer commands.
          </p>
        </form>
      </section>
      <p id="status-message" class="status-message" role="status" aria-live="polite"></p>
    </main>
    <script src="/static/workspace.js" type="module"></script>
  </body>
</html>
