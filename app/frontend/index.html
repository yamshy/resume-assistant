<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Assistant Workspace</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <h1>Resume Assistant</h1>
        <p class="app-subtitle">
          Build a structured knowledge base from your resumes and generate tailored drafts for each job posting.
        </p>
      </header>
      <main class="workspace-window" aria-label="Resume assistant activity log">
        <section id="activity-log" class="activity-log" aria-live="polite">
          <p class="activity-placeholder" data-placeholder="true">
            Activity will appear here after you ingest resumes or generate a draft.
          </p>
        </section>
      </main>
      <form id="workflow-form" class="composer" autocomplete="off">
        <div class="mode-toggle" role="tablist" aria-label="Select workflow mode">
          <button
            id="mode-ingest"
            type="button"
            class="mode-button is-active"
            data-mode="ingest"
            role="tab"
            aria-selected="true"
            aria-controls="ingest-section"
          >
            Ingest resumes
          </button>
          <button
            id="mode-generate"
            type="button"
            class="mode-button"
            data-mode="generate"
            role="tab"
            aria-selected="false"
            aria-controls="generate-section"
          >
            Generate resume
          </button>
        </div>

        <section
          id="ingest-section"
          class="composer-section is-active"
          data-mode="ingest"
          role="tabpanel"
          aria-labelledby="mode-ingest"
        >
          <div class="field-group">
            <label for="resume-files" class="field-label">Upload resumes</label>
            <input
              id="resume-files"
              name="resume-files"
              class="file-input"
              type="file"
              accept=".txt,.md,.pdf,.doc,.docx,.rtf"
              multiple
              required
            />
            <p class="input-help">
              Attach exported resumes, cover letters, or portfolio summaries. They will be parsed into a structured skills and experience database.
            </p>
          </div>
          <div class="field-group">
            <label for="ingest-notes" class="field-label optional">Reviewer notes</label>
            <textarea
              id="ingest-notes"
              name="ingest-notes"
              class="text-area"
              rows="4"
              placeholder="Mention context or achievements you want preserved during validation."
            ></textarea>
          </div>
          <button type="submit" class="primary-action">Process resumes</button>
        </section>

        <section
          id="generate-section"
          class="composer-section"
          data-mode="generate"
          role="tabpanel"
          aria-labelledby="mode-generate"
          hidden
        >
          <div class="field-group">
            <label for="job-description" class="field-label">Job description</label>
            <textarea
              id="job-description"
              name="job-description"
              class="text-area"
              rows="8"
              placeholder="Paste the target role description to generate a tailored resume."
              required
            ></textarea>
          </div>
          <p class="input-help">
            Generated resumes are returned as structured JSON so you can review and edit before handing off to your human-in-the-loop workflow.
          </p>
          <button type="submit" class="primary-action">Generate tailored resume</button>
        </section>

        <p id="status-message" class="status-message" role="status" aria-live="polite"></p>
      </form>
    </div>
    <script src="/static/workspace.js" type="module"></script>
  </body>
</html>
